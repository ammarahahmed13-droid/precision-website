/* ==========================================================================
   PRECISION — MOBILE CSS OVERRIDES
   Breakpoint: max-width 767px (below 768px tablet threshold)
   Companion to precision-website.css and precision-tokens.css
   ========================================================================== */

/* ==========================================================================
   LOGO MARQUEE — No pause on hover (override base CSS)
   ========================================================================== */

.logo-strip-wrapper:hover .logo-strip-track {
  animation-play-state: running;
}


/* ==========================================================================
   BACKGROUND ORB — Smaller on mobile
   ========================================================================== */

.precision-bg-orb {
  position: fixed;
  top: -10vh;
  left: -10vw;
  width: 60vw;
  height: 60vw;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(0, 191, 255, 0.08) 0%, transparent 70%);
  pointer-events: none;
  z-index: 0;
  opacity: 0.1;
  will-change: transform, opacity;
}

@media (min-width: 768px) {
  .precision-bg-orb {
    width: 40vw;
    height: 40vw;
    top: -5vh;
    left: -5vw;
  }
}

/* Hero stats progress bar (injected by JS) — hidden everywhere */
.hero-stats-progress-bar {
  display: none;
}


@media (max-width: 767px) {

  /* ========================================================================
     GLOBAL MOBILE ADJUSTMENTS
     ======================================================================== */

  .section-inner {
    padding: var(--space-12) var(--space-4);
  }

  .section-heading {
    font-size: var(--font-size-3xl);  /* 30px on mobile */
  }

  .section-subtext {
    font-size: var(--font-size-md);
  }

  .btn-primary:not(.header-btn),
  .btn-lg {
    width: 100%;
    justify-content: center;
    padding: var(--space-4) var(--space-6);  /* normalise to btn-lg height on mobile */
    font-size: var(--font-size-base);        /* 16px — matches btn-lg */
  }


  /* ========================================================================
     1. HEADER — Logo left, hamburger right, nav hidden
     ======================================================================== */

  .site-header {
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .header-inner {
    padding: var(--space-3) var(--space-4);
    gap: 0;
  }

  /* Logo stays left */
  .header-logo {
    flex: 1;
  }

  /* Desktop nav: hidden on mobile (replaced by overlay) */
  .header-nav {
    display: none;
  }

  /* Desktop "Book a Call" header button: hidden on mobile */
  .header-btn {
    display: none;
  }

  /* Hamburger: shown on mobile */
  .header-hamburger {
    display: flex;
    margin-left: auto;
  }


  /* ========================================================================
     2. HERO — Single column, reduced sizing
     ======================================================================== */

  .hero-section {
    min-height: auto;
    padding-top: var(--space-4);
  }

  .hero-inner {
    flex-direction: column;
    padding: var(--space-5) var(--space-4) var(--space-4);
    gap: var(--space-6);
    align-items: stretch;
  }

  .hero-headline {
    font-size: var(--font-size-4xl);  /* 36px */
    letter-spacing: -0.03em;
  }

  .hero-subtext {
    font-size: var(--font-size-base);
  }

  .hero-cta-row {
    flex-direction: column;
  }

  .hero-visual {
    max-width: 82%;
    margin: 0 auto;
    padding-top: 36px;
    padding-bottom: 20px;
  }

  .hero-stats-card {
    max-width: 100%;
    padding: var(--space-4) var(--space-4) var(--space-3);
  }

  .stats-bars {
    height: 120px;
  }

  .stats-card-header {
    margin-bottom: var(--space-3);
  }

  .stats-float-tag {
    font-size: var(--font-size-xs);
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
  }

  .float-tag-icon {
    width: 28px;
    height: 28px;
    flex-shrink: 0;
  }

  .stats-float-tag--strategy {
    top: 0;
    right: -40px;
  }

  .stats-metrics-row {
    gap: var(--space-1);
  }


  /* ========================================================================
     3. SOCIAL PROOF — Unchanged (marquee handles itself)
     ======================================================================== */

  .social-proof-section {
    padding: var(--space-4) 0;
  }

  .logo-strip-fade {
    width: 60px;
  }


  /* ========================================================================
     4. WHY PRECISION — Horizontal scroll carousel on mobile
     ======================================================================== */

  .why-section .section-inner {
    overflow: hidden;
  }

  /* Make the grid a horizontal scroll track */
  .why-cards {
    display: flex !important;           /* override grid */
    flex-direction: row !important;
    overflow-x: auto;
    overflow-y: visible;
    scroll-snap-type: x mandatory;
    scroll-padding-left: 7vw;           /* (100vw - 86vw) / 2 = equal left & right gap */
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;              /* Firefox */
    gap: var(--space-4);
    padding: var(--space-2) 7vw var(--space-4);
    margin: 0 calc(-1 * var(--space-4)); /* bleed to edges */
    width: calc(100% + 2 * var(--space-4)); /* override desktop width:100% so track fills full viewport */
    max-width: none;                    /* override desktop 960px constraint */
  }

  .why-cards::-webkit-scrollbar {
    display: none;                      /* Chrome/Safari */
  }

  .why-card {
    flex: 0 0 86vw;                     /* ~86% viewport width per card */
    max-width: none;
    scroll-snap-align: start;
    transform: none !important;         /* disable GSAP Y on mobile */
    padding: var(--space-6);            /* reduce from desktop 40px to 24px */
  }

  /* Featured card: same width as others on mobile */
  .why-card--featured {
    flex: 0 0 86vw;
  }


  /* ========================================================================
     5. CONVERSION ACCELERATOR — Horizontal top tabs on mobile
     ======================================================================== */

  /* Stack: tabs on top, panel below */
  .acc-wrapper {
    flex-direction: column;
  }

  /* Sidebar becomes a horizontal scroll tab strip */
  .acc-sidebar {
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    scrollbar-width: none;
    padding: 0;
    border-right: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  }

  .acc-sidebar::-webkit-scrollbar { display: none; }

  /* Tabs lay out in a single horizontal row */
  .acc-sidebar-list {
    flex-direction: row;
    flex-wrap: nowrap;
    gap: 0;
    padding: var(--space-2) var(--space-3);
  }

  /* Each tab: compact horizontal chip, don't shrink */
  .acc-sidebar-item {
    flex: 0 0 auto;
    padding: var(--space-2) var(--space-3);
    gap: var(--space-2);
    white-space: nowrap;
    border-radius: var(--radius-md);
  }

  /* Hide period in compact strip — name alone is enough */
  .acc-sidebar-period {
    display: none;
  }

  .acc-sidebar-name {
    font-size: 0.75rem;
  }

  /* Panel: full-width column below the tab strip */
  .acc-panel-wrap {
    flex-direction: column;
    padding: var(--space-5) var(--space-4);
    padding-top: var(--space-5);
    gap: var(--space-4);
  }

  /* Badges: was position:absolute top-right → now static above title */
  .acc-panel-badges {
    position: static;
    margin-bottom: var(--space-2);
  }

  .acc-panel-main {
    max-width: none;
  }

  .acc-panel-title {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--space-3);
  }

  .acc-panel-desc {
    font-size: var(--font-size-base);
    max-width: none;
    margin-bottom: var(--space-5);
  }

  /* Deliverables: 2-col grid → single column */
  .acc-deliverables {
    grid-template-columns: 1fr;
    max-width: none;
  }

  /* Goal card: remove fixed 252px width */
  .acc-goal-card {
    width: 100%;
    align-self: stretch;
  }


  /* ========================================================================
     6. CASE STUDIES — Stacked vertically (no horizontal scroll)
     ======================================================================== */

  .case-studies-grid {
    grid-template-columns: 1fr;
  }

  .cs-card-image {
    height: 160px;
  }

  .cs-card-title {
    font-size: var(--font-size-xl);
  }


  /* ========================================================================
     7. TESTIMONIALS — Horizontal scroll carousel on mobile
     ======================================================================== */

  .testimonials-section .section-inner {
    overflow: hidden;
  }

  .testimonials-bar {
    flex-direction: column;
    text-align: center;
    gap: var(--space-4);
    background: transparent;
    border: none;
    border-radius: 0;
    box-shadow: none;
    padding: var(--space-4) 0;
    margin-top: var(--space-3);
  }

  .test-bar-divider {
    display: none;
  }

  .test-bar-cta-text {
    text-align: center;
  }

  .testimonials-grid {
    display: flex !important;
    flex-direction: row !important;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    scroll-padding-left: 7vw;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    gap: var(--space-4);
    padding: var(--space-2) 7vw var(--space-4);
    margin: 0 calc(-1 * var(--space-4));
    width: calc(100% + 2 * var(--space-4));
  }

  .testimonials-grid::-webkit-scrollbar {
    display: none;
  }

  .testimonial-card {
    flex: 0 0 86vw;
    max-width: none;
    scroll-snap-align: start;
    transform: none !important;
  }

  .testimonial-quote {
    font-size: var(--font-size-sm);
  }


  /* ========================================================================
     8. ROI CALCULATOR — Compact single-column on mobile
     ======================================================================== */

  /* Reduce card outer padding and clip children to rounded corners */
  .roi-calculator-card {
    padding: var(--space-4);
    overflow: hidden;
  }

  .roi-calculator-layout {
    grid-template-columns: 1fr;
    gap: 0;                /* remove gap — divider handled by border-top on results panel */
  }

  /* Remove the double-padding added on mobile (card padding is sufficient) */
  .roi-inputs-panel,
  .roi-results-panel {
    padding: 0;
    gap: var(--space-3);
  }

  /* Inputs panel: bleed to card edges with darker base colour */
  .roi-inputs-panel {
    background: var(--color-bg-base);
    margin: calc(-1 * var(--space-4));
    margin-bottom: 0;
    padding: var(--space-4);
    padding-bottom: var(--space-4);
  }

  /* Results panel: lighter surface with top divider and breathing room */
  .roi-results-panel {
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    padding-top: var(--space-4);
  }

  /* Panel titles: match Figma prominence — 24px fits "Configure Growth Parameters" on one line */
  .roi-panel-title {
    font-size: var(--font-size-2xl);
  }

  /* Slider current value: reduce from 24px, step down weight from black(900) to bold(700) */
  .roi-current-value {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
  }

  /* Baseline revenue figure: less dominant */
  .roi-baseline-value {
    font-size: var(--font-size-2xl); /* 24px — down from 36px */
  }

  /* Tighter top spacing on baseline block */
  .roi-baseline {
    padding-top: var(--space-3);     /* 12px — down from 24px */
  }

  /* Override desktop negative margin that pulls subtitle into title */
  .roi-panel-subtitle {
    margin-top: var(--space-1);        /* small positive gap instead of -20px */
  }

  /* Scenarios stay in a single row — no wrapping */
  .roi-scenario {
    flex-wrap: nowrap;
    padding: var(--space-3) var(--space-3); /* reduce H padding: 20px → 12px = wider header column */
    gap: var(--space-2);                    /* tighter gap between pill / header / result */
  }

  /* Allow header to shrink so description can clip to one line */
  .roi-scenario-header {
    min-width: 0;
  }

  /* Force description to one line — prevents taller cards on wrap */
  .roi-scenario-desc {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 0.6875rem;              /* 11px — fits "20% conversion improvement" on one line */
  }

  /* Scenario dollar values: smaller to fit one-row layout */
  .roi-scenario-value {
    font-size: var(--font-size-base);  /* 16px — down from 20px */
  }

  .roi-maximum-value {
    font-size: var(--font-size-2xl);
  }

  .roi-cta {
    width: 100%;
    justify-content: center;
  }


  /* ========================================================================
     9. SERVICES / HOW WE WORK — Horizontal scroll carousel on mobile
     ======================================================================== */

  .services-section .section-inner {
    overflow: hidden;
  }

  .services-grid {
    display: flex !important;
    flex-direction: row !important;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    scroll-padding-left: 7vw;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    gap: var(--space-4);
    padding: 20px 7vw var(--space-4);
    margin: 0 calc(-1 * var(--space-4));
    width: calc(100% + 2 * var(--space-4));
    align-items: stretch;
  }

  .services-grid::-webkit-scrollbar {
    display: none;
  }

  .service-card,
  .service-popular-wrapper {
    flex: 0 0 86vw;
    max-width: none;
    scroll-snap-align: start;
    transform: none !important;
  }

  /* The inner card inside the popular wrapper fills the wrapper */
  .service-popular-wrapper .service-card {
    flex: 1 1 auto;
    width: 100%;
  }

  /* Remove cross-card title alignment — not needed in carousel */
  .service-card-title {
    min-height: unset;
  }

  /* Featured card: same width on mobile */
  .service-card--featured {
    grid-column: auto;
  }

  .services-cta-banner {
    padding-left: var(--space-4);
    gap: var(--space-4);
  }

  .services-cta-text {
    font-size: var(--font-size-base);
  }


  /* ========================================================================
     10. FOUNDER BIO — Single column on mobile
     ======================================================================== */

  .founder-layout {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }

  .founder-photo-col {
    align-items: center;
  }

  .founder-photo-frame {
    width: 270px;
    height: 360px;
  }

  .founder-content-col .section-heading {
    font-size: var(--font-size-3xl);
    text-align: center;
  }

  .founder-content-col .section-label {
    align-self: center;
  }

  .founder-quote {
    font-size: var(--font-size-base);
  }

  .founder-bio {
    font-size: var(--font-size-md);
    padding: 0 var(--space-3);
  }

  .founder-stats {
    grid-template-columns: 1fr 1fr;
    gap: var(--space-3);
    padding: var(--space-4);
  }

  .founder-stat-value {
    font-size: var(--font-size-2xl);
  }


  /* ========================================================================
     11. CTA / CONTACT — Single column on mobile
     ======================================================================== */

  .cta-layout {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }

  .cta-content {
    padding-top: 0;
    padding-left: var(--space-3);
    padding-right: var(--space-3);
  }

  .cta-content .section-heading {
    font-size: var(--font-size-3xl);
    text-align: center;
  }

  .cta-content .section-label {
    align-self: center;
  }

  .cta-subtext {
    font-size: var(--font-size-base);
    text-align: center;
  }

  .cta-benefits {
    align-items: flex-start;
  }

  .cta-checklist-link {
    align-items: center;
    text-align: center;
  }

  .cta-checklist-btn {
    font-size: var(--font-size-lg);
  }

  .cta-calendar-inner {
    min-height: 280px;
    padding: var(--space-5);
  }


  /* ========================================================================
     12. FOOTER — Single column on mobile
     ======================================================================== */

  .footer-inner {
    padding: var(--space-10) var(--space-4) var(--space-6);
    gap: var(--space-8);
  }

  .footer-top {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }

  .footer-brand-col {
    max-width: 100%;
  }

  .footer-bottom {
    flex-direction: column;
    gap: var(--space-2);
    text-align: center;
  }

  .footer-legal-nav {
    justify-content: center;
  }



  /* ========================================================================
     13. CAROUSEL ARROW POSITIONING (injected by precision-interactions.js)
     Adjusts arrow placement for narrow viewports
     ======================================================================== */

  .carousel-wrapper {
    position: relative;
    overflow: visible;
  }

  /* Arrows are in .carousel-nav below the track — no side positioning needed */

  /* On very small screens (≤360px), hide nav — swipe only */
  @media (max-width: 360px) {
    .carousel-nav {
      display: none;
    }
  }


  /* ========================================================================
     14. TOUCH INTERACTION IMPROVEMENTS
     ======================================================================== */

  /* Increase tap targets for all interactive elements */
  .nav-link,
  .btn-primary:not(.header-btn),
  .btn-ghost-service,
  .footer-legal-link {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
  }

  /* Footer nav links: smaller touch target to keep footer compact */
  .footer-nav-link {
    min-height: 32px;
    display: inline-flex;
    align-items: center;
  }

  /* Remove hover transforms on touch devices
     (prevents stuck hover states on iOS) */
  @media (hover: none) {
    .why-card:hover,
    .case-study-card:hover,
    .testimonial-card:hover,
    .service-card:hover,
    .service-popular-wrapper:hover {
      transform: none;
      box-shadow: none;
    }

    .btn-primary:hover {
      transform: none;
    }
  }

} /* end @media (max-width: 767px) */


/* ==========================================================================
   SMALL TABLET ADJUSTMENTS (768px – 1199px)
   ========================================================================== */

@media (min-width: 768px) and (max-width: 1199px) {

  .section-heading {
    font-size: var(--font-size-4xl);
  }

  .hero-headline {
    font-size: var(--font-size-5xl);
  }

  /* Conversion accelerator: keep timeline scrollable on tablet too */
  .accelerator-timeline {
    overflow-x: auto;
    scrollbar-width: none;
  }
  .accelerator-timeline::-webkit-scrollbar { display: none; }

  /* Testimonials: 2-col on tablet */
  .testimonials-grid {
    grid-template-columns: 1fr 1fr;
  }

  /* Services: 2-col on tablet, featured card full-width */
  .services-grid {
    grid-template-columns: 1fr 1fr;
  }
  .service-card--featured {
    grid-column: 1 / -1;
  }

}
